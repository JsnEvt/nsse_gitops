Kustomize = ferramenta para gerenciamento do multiplos manifestos de forma simplificada,
com ele, consegue-se referenciar outros manifestos, colocando coisas que outros manifestos
devem ter em comum.
Namespace = serve para isolamento de recursos dentro de um cluster kubernetes.
A pasta production = ambiente.
E possivel gerar arquivo yaml a partir da linha de comando do prompt:

Criando namespace:
kubectl create namespace nsse --dry-run=client -o yaml > namespace.yml

para enviar os outros microservicos para o ECR, usamos o comando abaixo:
construindo o arquivo a partir do Dockerfile
docker build -f endereco/do/pasta_do_microservico/Dockerfile -t endereco/do/ecr/aws:latest .
enviando o arquivo para o ECR:
docker push endreco/do/ecr/aws:latest


SEQUENCIA PARA CRIACAO DOS RECURSOS VISTO QUE O REFATORAMENTO DOS RECURSOS CRIADOS SOFREM 
MODIFICACOES QUE ATRAPALHAM A SEQUENCIA DE CRIACAO.
01 - ECR - CRIA-SE NA PASTA SERVER DO IAC
02 - CRIA O DEPLOYMENT BRUTO. POSTERIORMENTE ELE SOFRERA MODIFICACOES DEVIDO AO HELM CHARTS / NAMESPACES / KUSTOMIZE SETUP
03 - IMAGE PULL SECRETS
04 - CONFIG MAP
05 - SECRETS / CERTIFICATES
06 - QOS - CLASSE DE QUALIDADE DE SERVICO
07 - READINESS/LIVENESS PROBES
08 - SERVICE ACCOUNT - TOKEN PARA OPERACOES INTER-CLUSTER
09 - SECURITY CONTEXT - OPERACOES COM USUARIO NAO ROOT
10 - DEPOIS DE REALIZADO O PULL E O PUSH DE TODOS OS CONTAINERES DA APLICACAO - TOPOLOGY SPREAD CONSTRAINTS - DISTRIBUICAO DE PODS ENTRE ZONAS DISTINTAS PARA MAIOR DISPONIBILIDADE 
11 - TOPOLOGY AWARE ROUTING - PODS DARAO PREFERENCIA AS COMUNICACOES QUE ESTAO DENTRO DA MESMA REGIAO PARA MELHORAR A PERFORMANCE
12 - ACM CERTIFICATE
13 - INGRESS - ROTEADOR INTERNO DO CLUSTER PARA AS SERVICES QUE POR SUA VEZ ROTEIAM PARA OS PODS CORRESPONDENTES
14 - EXTERNAL DNS / AWS ROUTE 53 - CRIAR NO IAC/SERVER
15 - VERTICAL POD AUTOSCALING (VPA) - NAO UTILIZADO (MATA O POD QUE ESTA RECEBENDO MUITAS REQUISICOES PARA CRIAR UM NOVO)
16 - HORIZONTAL POD AUTOSCALING (HPA) - CRIA NOVOS PODS PARA DAR CONTA DAS REQUISICOES BASEADO NA DEMANDA / METRICA
17 - NETWORK POLICIES
18 - HELM CHARTS INITAL LAYOUT
19 - HELM CHARTS DEPLOYMENTS
20 - HELM CHARTS SERVICES
21 - HELM CHARTS HPAs
22 - 



